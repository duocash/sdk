import { Lockers } from '../src'
import {ethers} from "ethers";

const provider = new ethers.providers.InfuraProvider(
  1,
  "d702cc38fd3d48ea90b7bf262672c00a"
);

test('Can fetch single locker by address', () => {
  const dc = new Lockers(provider, 1);
  expect(dc).not.toBeFalsy();

  return dc.fetchLockerByAddress("0x294528573E10D4B5e2557aBB46Ba425f55483ab5").then((res) => {
    expect(res).toBeTruthy()
  })
})

test('Can fetch lockers by address', () => {
  const dc = new Lockers(provider, 1);
  expect(dc).not.toBeFalsy();

  return dc.fetchLockersByAddress([
    "0x054e4d23739dc1c0f3edc34ea874828e1612e004",
    "0x06799a1e4792001aa9114f0012b9650ca28059a3",
    "0x08b877349bbe3d14e83fef90e3b6774995b545f6",
    "0x0a7308aee203a074b5a1c0814bd741002cda7f83",
    "0x0aed70eac10b32af9328ece5fd554a155dadb254",
    "0x0e2481cdc9ffd4da1ee17b3060d41c7a0a4906b7",
    "0x0e2c7a61442481694ef5ce56e6c169548fcc8e7b",
    "0x0fba3e495b76d9b352028142de9113c5a3454de1",
    "0x11351599ee46bd704caac123bd7057d40a59388d",
    "0x1157b1dc952ebd21091058ff2cf467092144986e",
    "0x1405c24d29f4b2b60d0072419621de0d22aacc53",
    "0x1531c7ebb5645bfe8d2a451945116caafdf78e7a",
    "0x1670c88225c89fe654cf0df300b705485c62ef69",
    "0x258302d09995a71b185097738a46ec2095b9197f",
    "0x2652f1e210b26cab22a57d7f2a863da0124a53a5",
    "0x294528573E10D4B5e2557aBB46Ba425f55483ab5", // This is the real locker
    "0x267c48f67b13b8edb7415906765cb6903c7bfa64",
    "0x269e28014b89291f5d60ab9a899aca549da80230",
    "0x2ae5dfc9f12d17d2148a35020a76eaac0eb806e0",
    "0x2b91b4f5223a0a1f5c7e1d139dddd6b5b57c7a51",
    "0x2e2ec830dfc50cb55e09f11c67ab17a3db969457",
    "0x3377b9f2bad1f4f17c3ac07881258b0ebb08b729",
    "0x354548da34fee6ccc6a8d43715e5efc9d80c51be",
    "0x35fb598a156a57773c8d24bc3d0ab61178d8bcea",
    "0x37b0e438a14a4f6d7d54d52c7c3017921c25eb4f",
    "0x37bde7f133171a5b737506cc402471ce0e2b03ca",
    "0x384a12f4e083193fda64cbdb83325a2184b678e0",
    "0x39286b36de51e8cbde7c55fc46c7df07ad6dc8f5",
    "0x397aca1bb35e89d378a73c1a6e93a10e9fe38cb0",
    "0x397eadff98b18a0e8c1c1866b9e83ae887bac1f1",
    "0x3c8af873ccf3379491750835130d1d81beecc9c3",
    "0x3ca8e210d3978f1bbf96399bf26c641113b667bc",
    "0x3efeec1aec77354304dc66c28d367579279c2e42",
    "0x3f9d476d0aebcc8ea956e4f44896ef1a2ccb2314",
    "0x42d78aa586028f1c50d85b4139196cf65a5fb3a3",
    "0x433ee2f00ad7ff824b2fe74bace417afd2d86d31",
    "0x44086035439e676c02d411880fccb9837ce37c57",
    "0x45acfd8386faec75b44ae9c1450fc57c248f17df",
    "0x45ce9d7bdadb704c68242118e2b8586e491e5c51",
    "0x47b0f09d54af9de6f375ce6638436ca1cad21a4b",
    "0x48b1c98adaac2ef183d3b8546419b0231ff4b40f",
    "0x491455780d9ed03b7831943f803df33e5cb891e0",
    "0x4b08b1ece8fac899ba6243fbb0da09b7de63da06",
    "0x4c670cfae444cae2faec87abf9a68f7ca6d5ba0f",
    "0x4d37f28d2db99e8d35a6c725a5f1749a085850a3",
    "0x4d763e241ffc65f08eb2ee44b56c94ff4c5b5a01",
    "0x4ede57b7e2f0f90743a24d0b1a31af419d8af954",
    "0x50f25b16f7cf9892fe285c2d0cdb35fab61e1b24",
    "0x52d8fbf7313becfe7c21343b22c335dd91591926",
    "0x540459d8975cf3398d79172df5d7c53fb0581b35",
    "0x54675102bb3ed53400a63e51acf567f0598a9acd",
    "0x54a97200990da293c4a06f88cf334a0bba4e1dbe",
    "0x57ac6da3211b50a385e85734dbd13faf169cb539",
    "0x58806cded4ed3ad09683334bc1d05fbdbfd0093b",
    "0x59ef69408d8008d70f5e5e57faaafba33cdd7817",
    "0x5a07bba7bce7555b9c583010248d65e5435f28df",
    "0x5ad0434a60bb3b6712aaffc9cc2a44bfa4d6c3ec",
    "0x5b18236e0d1af4c80455edca7ce2a1a319a18557",
    "0x5ba19c374bb9a187159be1e6d69c5318f0f9184a",
    "0x5c7c0fdc44b44673f070535897d1208104a28950",
    "0x5ed0f3a8b95cb1276ad1fcae468bbe3afe071582",
    "0x5f7f3b1a94268c439fc856b5a373d73f1fda94ff",
    "0x5feb14ad3104e849c8492b0bb9f9ce0780d0b2cc",
    "0x6086c2464f935a19ded07b3ac144a97b9bace7de",
    "0x61fe8396cf5515b2b03952474e73f0a65cc815f8",
    "0x6400e53111fd4b600814fccdb990c8edd18780c3",
    "0x641ad78baca220c5bd28b51ce8e0f495e85fe689",
    "0x657b798b728bd60d15633663af012b86aa440f5e",
    "0x659515b622a42f591f7bdb081697ffbe5a278870",
    "0x6d377c45cf8c9d19bb6cfdb0c93ccf979026d3f8",
    "0x6fffd84b31ab204d35026d09fdef2f9fb490dd2c",
    "0x72532f5a7a87f781b2a95d43e2710a47e318e4d7",
    "0x72aac494a8ddc9ee354f472adf912bba28fc198e",
    "0x738c701bed8b9b4d2c704e381e231377b8dea78d",
    "0x755470a548fe2484f76fe63e1923b65a70be84cb",
    "0x75e4e9423e425d902d78e0f909bc8bde7e86e38e",
    "0x764f2d4a12dc310ba34a359358bfd313b503cfd3",
    "0x779c416c7443caf253d44f25bdfb0a1a9aada21f",
    "0x7b0dcf7d223f111318075b930c8b6118a506d92d",
    "0x7ba605bc00ea26512a639d5e0335eaeb3e81ad94",
    "0x7e6955b0d21de779b05218d4afcccf3274c68dc3",
    "0x7eb66302514947bc6c10b5dfc77587259dbfb487",
    "0x807618491e6fd5d71d92e3ce0da98a0c086cbc60",
    "0x80bb19075532fbe3e6961bb3a8f27bf44058a48a",
    "0x84785b729fe433a8773fb654737e20a146883ca2",
    "0x84841e552a021224de716b7be89747bb2d62d642",
    "0x88c70e2478a321a944815593de80bad83aa3dc4c",
    "0x896002e29fe4cda28a3ae139b0bf7bac26b33a8c",
    "0x89aeb64862966bc9c02bb1e3d67094ee512280ef",
    "0x8d286c2b4a09b877781aa500a3eba5a4d14fb7eb",
    "0x8d6980e75e16313e613a4d0409ffe7f408ca1287",
    "0x8ddac133249bfd65167cc893472250b9f9a3e849",
    "0x8ea958baf17a38d38f1a51a8c27c4cf9fa473280",
    "0x8f5d46fcadeca93356b70f40858219bb1fbf6088",
    "0x8fc15e80a595826d8c717dc94384e2eccc36e298",
    "0x92b4a837adab859a0c8520e2ed44d53391685374",
    "0x932287d988941ce7b238f91ac5a1d78e2f5bc2e6",
    "0x940b4c1566bf2ed100cd9dba1c7d1c95fcd13139",
    "0x94ffa037ec780a742a78bd5a692fb948c000e785",
    "0x9773cbd2893c53344135097926260909bef6cb05",
    "0x97824e081bd4eb06f1fdc1719571e068800a7693",
    "0x97e57412e725787c6674d3903ec8eab992a8b2c8",
    "0x98b5fb8ba1f2e93a6cb29ecd0b4be4026b28d7a2",
    "0x9a192b549f7b61e3ec1c501622d87f9dd5263e1c",
    "0x9c007aef59ac21cd87d877dc94d8787181340a2b",
    "0x9c2b88a02cd8ed7a476ed959b15e8befb2701549",
    "0x9d2685ae39388e39438e9aa9c670390c243a9a85",
    "0x9ed629bc305c5731d43de27cbbe8f77976893c2b",
    "0xa07beb9240ddb89da534100c947d9b970183f2f8",
    "0xa0a3956a35bf19b38f467fa8256af0675c7fa17a",
    "0xa2a2f78c7916b9c8a83f8605552ed35108541d51",
    "0xa2cab56d895260c76ebbe9b163fa5b6ff9383fcc",
    "0xa7c7de54d13ef08fba0d910e24c373925bf2984b",
    "0xa81598667ac561986b70ae11bbe2dd5348ed4327",
    "0xa845dfaca6b3494d6be4a851100a2cd44ef0a4e7",
    "0xa8f7343261373e20d83f574858f6917f394aec5b",
    "0xa8f8de825b6899e8dd7535677ee19705335474ed",
    "0xaccf74209c0cd03ef77fb1295ef402e547dad457",
    "0xb019e5666079dc89700f368887efa246ff75aa7d",
    "0xb038113e920a67d79fb00103b163a571dea096fa",
    "0xb19e5a833e393a2a397010201318a1f046dc2886",
    "0xb28a0e666fcb0e3742e7b606c9f54cbc4a34c6fc",
    "0xb2bf4c18b4e0618fdb5fca7f42fca075c14dae69",
    "0xb32906c6e6e14e62cf7d3d483652dc706b112d2f",
    "0xb5f138862e2d93396b14689fd0696f4540dbd76a",
    "0xb6831d2adaac47476e330279a53daae4e127532f",
    "0xb7666197f53636c22349cc48a5a6b521e4015e33",
    "0xb98979121552204d0ca9d7bb58b1be5e6cd5a849",
    "0xb9dd7fb5536542feb37a86161b40ecc9ef2f53d3",
    "0xbbde4a63f0e922ae4508f551df1883b175407adf",
    "0xbbf68ff787fa681eee4024c63cbb3ac75a6efc0c",
    "0xbc35b0f2f1531a43e39c0f4ce398fad5f1b35f66",
    "0xbd4632a463b3047c889f4da406243738ba167e50",
    "0xbd530a1c060dc600b951f16dc656e4ea451d1a2d",
    "0xbf01083bd736f0313c2eb862d94d654936f6df4b",
    "0xc054e22dbbf750dfc089fb5c4c6d52b6754e87be",
    "0xc3025c1a031c34e7ddf47192b8266a6cc8852835",
    "0xc33d36523fbf8360792c2c372f5fe457beec001f",
    "0xc6c11f32d3ccc3beaac68793bc3bfbe82838ca9f",
    "0xc7ef186ea68dd90dbf83edcb498a8ccf76e4770d",
    "0xc91d7cb930db57d1ed91c175626736f0ecfbdaca",
    "0xca75b45f201fd4aa233f91d88e955bcfd816ad6f",
    "0xcaea9ca2439ccce3c040b762498db482c1df1f6a",
    "0xcfdc143a73a1b0b49ea606b6113f21df31a7e483",
    "0xd0d1867f7c16856fdc6a7d1b5c3fb9b0cf3c43b4",
    "0xd0ec4a8f23dd1b148d24ecfa9dd3e82c5137bd28",
    "0xd22490cc1aa6ba127d97ced6dd7c92beaaace502",
    "0xd2e10cfc63d1e48850849b4ee6977ca359caa7ce",
    "0xd3fd32e76a1ca37ec408aac47776b10fc099f841",
    "0xd5f59c7366e38945ae224b3684fbfda414f340be",
    "0xd85d422317640106599128b19b40b3e8137875a3",
    "0xd9103bb6b67a55a7fece2d1af62d457c2178946d",
    "0xd97175f2dc6ff599888bf1bce6b82d0c5415b721",
    "0xd9bd5745c69220917cea63a82b14f91f9db39155",
    "0xdaa10568b4031ad800f897a668feacec78319769",
    "0xdb33efb01ed7f36a803b1e7eaeae737d22f9ebca",
    "0xdba96515bc1572be94ba13db56e9dc9562fbb3c0",
    "0xdc5afb5de928bac740e4bcb1600b93504560d850",
    "0xdc7f763313b7968057918c98a69bbdf1633fd0ac",
    "0xdcf6ac7ad5209de4b7400ef9593304809f07e725",
    "0xdde3a9f2649ccdac0b8ae05fc3cdfe2e05bb00a5",
    "0xde00b46fa146bbe09a4fc1f05e8dc906969338cd",
    "0xde7da49ab34cff4b232123119cd8831861b37313",
    "0xe340b25fe32b1011616bb8ec495a4d503e322177",
    "0xe95e74f72da807fc89df0d5eaa6f0a1d11bab0a8",
    "0xea785827bbc2fe92afc14d4e6949ee3dc2a7a65d",
    "0xec95e7f271d5353d28c08bd52c9cd26d0bee8a9d",
    "0xeffee111aa715c57f0c4d4c89714f4e930cba0c3",
    "0xf04946c11127a096bcd6a572c01c89c164f2fa12",
    "0xf185210da63e0d3e401c5135dd610e12c55bf192",
    "0xf6121c00ed4fdde17723eb6cf6f9011242f70c37",
    "0xf828697322b5259afcaf39b6cac110e60b2f88cc",
    "0xfa26e0ccc10035932a0c6de8c2e7f4ffcfc753cb",
    "0xfb5d1d457eea502166b153afbeb813bcdf1498d6",
    "0xff0d82c0e86594132fe50ef16ebbfee9ece0181a",
    "0x1D233da0CB76f8BF48699444f4A84d49Cd17AbAe",

  ]).then((res) => {
    // It should find 1 locker
    expect(Object.keys(res).length).toEqual(1)
  })
})

test('Can fetch single locker by id', () => {
  const dc = new Lockers(provider, 1);
  expect(dc).not.toBeFalsy();

  return dc.fetchLockerById(1).then((res) => {
    expect(res).toBeTruthy()
  })
})

test('Can fetch lockers by ids', () => {
  const dc = new Lockers(provider, 1);
  expect(dc).not.toBeFalsy();

  return dc.fetchLockersById([1]).then((res) => {
    expect(Object.keys(res).length).toEqual(1)
  })
})
